{\rtf1\ansi\ansicpg1252\cocoartf2761
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;\f1\fnil\fcharset0 Menlo-Regular;}
{\colortbl;\red255\green255\blue255;\red22\green145\blue149;\red210\green220\blue220;\red110\green193\blue194;
}
{\*\expandedcolortbl;;\csgenericrgb\c8627\c56863\c58431;\csgenericrgb\c82353\c86275\c86275;\csgenericrgb\c43137\c75686\c76078;
}
\vieww11520\viewh8400\viewkind0
\deftab720
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\partightenfactor0

\f0\fs24 \cf0 To clean tubing, upload \'91/Users/emmaodom/Documents/GitHub/Behavior_Code_Emma/arduino ino/clean_tubing_just_open_solenoid\'92 to Arduino Uno. \
\
\pard\tx220\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\li720\fi-720\partightenfactor0
\cf0 this script opens the solenoid for 500 ms\
just add some extra water to syringes and apply pressure by inserting the plunger into the syringe \
make sure to hold paper towels in front of the lick spout to protect the rig from water \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\partightenfactor0
\cf0 \
Then use the standard python interface to initiate the run. \
In terminal:\
\pard\tx220\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\li720\fi-720\partightenfactor0
\cf0 caffienate (to keep serial monitor from going blank)\
conda activate arduino_interface\
jupyter notebook\
In notebook (learning_to_talk.ipynb)\
run import cell (literally the first cell in the notebook)\
run the cell that sends start and stop command to arduino. \
\
updated (PC):\
\pard\tx220\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\li720\fi-360\partightenfactor0
\cf0 open anaconda prompt (app from search bar)\
type: "conda activate arduino_interface"\
type:"code" (will open vscode)\
open rig_control.ipynb in vscode\
run all cells !\
make sure to test rig elements before every run. \
\pard\tx220\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\li720\fi-720\partightenfactor0
\cf0 \
Notes to troubleshoot rig:\
make sure your goddamn grounds are connected properly (ie breadboard ground connected to arduino ground)\
I was told grounding to the rig is not necessary, but I still wonder if it would help protect against drift in the capacitance measurement for the touch sensors? \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\partightenfactor0
\cf0 \
Need to add:\
\pard\tx220\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\li720\fi-720\partightenfactor0
\cf0 way to save the lick sensor data. \
\
\
Want to be able to define these arduino variables from python\
\pard\pardeftab720\partightenfactor0

\f1 \cf2 const\cf3  \cf2 int\cf3  set_sol_duration = \cf4 20\cf3 ;\
\pard\tx220\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\li720\fi-720\partightenfactor0

\f0 \cf0  
\f1 \cf2 \expnd0\expndtw0\kerning0
const\cf3  \cf2 int\cf3  set_touch_duration = \cf4 1000\cf3 ;\

\f0 \cf0 \kerning1\expnd0\expndtw0 check if its actually 1 full second between each solenoid activation because it doesn\'92t seem like it is?\
\
In the arduino code, it searches the serial commands for SET_TOUCH= or SET_SOL= coming from python. \
Then it takes the remaining part of the string, converts to int, and updates the respective variable to that value. This is a possible source of error but worth adding for the flexibility. \
\
If something is off with the timing of the Touch Bar requirement or the solenoid opening times, please check that the value they are being set to is what you expect (set_sol_duration should be around 10-50 msec; set_touch_duration should be about 1000 msec). \
\
\
#NEXT TO DO, UPDATE THE FILE SAVING SYSTEM :-)\
One thing that\'92s really silly that ill need to do is like say the training happened yesterday if before 5 am \
\
Thorlabs camera only works on windows 7,10, and 11. That\'92s so dumb but okay need to know. \
Atlas room PC is windows 10\
Settings>System>About>Device Specs> System type = 64-bit operating system (for both atlas pc and stim pc)\
\
I moved all the code tp dropbox, but intend to do push to GitHub on my Mac. \
I updated arduino code, but still need to push and test it. \
I got code to work from windows atlas stim computer! \
\
\
Maybe switch acquisition to be directly into polar or spark!!!! Or just pandas. \
\
\
WOW, I really need to be able to send functionalized commands to arduino so it\'92s not entirely hard programmed, but instead task switchable during training. I have a mouse who is naturally constantly reaching, not waiting for a large drop and in this case it would make a lot of sense to just increase the  solenoid opening time \
\
\
}